{
  "openapi": "3.1.0",
  "info": {
    "title": "Tofu-Maker API",
    "description": "RESTful Services to interact with opentofu CLI",
    "version": "1.0.13-SNAPSHOT"
  },
  "servers": [
    {
      "url": "http://localhost:9092",
      "description": "Generated server url"
    }
  ],
  "security": [
    {
      "OAuth2Flow": [
        "openid"
      ]
    }
  ],
  "tags": [
    {
      "name": "OpenTofuFromGitRepo",
      "description": "APIs for running OpenTofu commands using OpenTofu scripts from a GIT Repo."
    },
    {
      "name": "Admin",
      "description": "Admin services for managing the application."
    },
    {
      "name": "RetrieveOpenTofuResult",
      "description": "APIs to manually fetching task results from tofu-maker."
    },
    {
      "name": "OpenTofuFromScripts",
      "description": "APIs for running OpenTofu commands on the scripts sent via request body."
    },
    {
      "name": "OpenTofuFromDirectory",
      "description": "APIs for running OpenTofu commands inside a provided directory."
    }
  ],
  "paths": {
    "/tofu-maker/task/results/batch": {
      "post": {
        "tags": [
          "RetrieveOpenTofuResult"
        ],
        "description": "Method to batch retrieve stored openTofu results from tofu-maker.",
        "operationId": "getBatchTaskResults",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "description": "List of request IDs",
                "items": {
                  "type": "string",
                  "format": "uuid"
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ReFetchResult"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "503": {
            "description": "Service Unavailable",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        }
      }
    },
    "/tofu-maker/scripts/validate": {
      "post": {
        "tags": [
          "OpenTofuFromScripts"
        ],
        "description": "Deploy resources via OpenTofu",
        "operationId": "validateWithScripts",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OpenTofuDeployWithScriptsRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OpenTofuValidationResult"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "503": {
            "description": "Service Unavailable",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        }
      }
    },
    "/tofu-maker/scripts/plan": {
      "post": {
        "tags": [
          "OpenTofuFromScripts"
        ],
        "description": "Get OpenTofu Plan as JSON string from the list of script files provided",
        "operationId": "planWithScripts",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OpenTofuPlanWithScriptsRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OpenTofuPlan"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "503": {
            "description": "Service Unavailable",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        }
      }
    },
    "/tofu-maker/scripts/modify": {
      "post": {
        "tags": [
          "OpenTofuFromScripts"
        ],
        "description": "Modify resources via OpenTofu",
        "operationId": "modifyWithScripts",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OpenTofuModifyWithScriptsRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OpenTofuResult"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "503": {
            "description": "Service Unavailable",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        }
      }
    },
    "/tofu-maker/scripts/modify/async": {
      "post": {
        "tags": [
          "OpenTofuFromScripts"
        ],
        "description": "async modify resources via OpenTofu",
        "operationId": "asyncModifyWithScripts",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OpenTofuAsyncModifyFromScriptsRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "202": {
            "description": "Accepted"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "503": {
            "description": "Service Unavailable",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        }
      }
    },
    "/tofu-maker/scripts/destroy": {
      "post": {
        "tags": [
          "OpenTofuFromScripts"
        ],
        "description": "Destroy resources via OpenTofu",
        "operationId": "destroyWithScripts",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OpenTofuDestroyWithScriptsRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OpenTofuResult"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "503": {
            "description": "Service Unavailable",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        }
      }
    },
    "/tofu-maker/scripts/deploy": {
      "post": {
        "tags": [
          "OpenTofuFromScripts"
        ],
        "description": "Deploy resources via OpenTofu",
        "operationId": "deployWithScripts",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OpenTofuDeployWithScriptsRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OpenTofuResult"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "503": {
            "description": "Service Unavailable",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        }
      }
    },
    "/tofu-maker/scripts/deploy/async": {
      "post": {
        "tags": [
          "OpenTofuFromScripts"
        ],
        "description": "async deploy resources via OpenTofu",
        "operationId": "asyncDeployWithScripts",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OpenTofuAsyncDeployFromScriptsRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "202": {
            "description": "Accepted"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "503": {
            "description": "Service Unavailable",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        }
      }
    },
    "/tofu-maker/git/validate": {
      "post": {
        "tags": [
          "OpenTofuFromGitRepo"
        ],
        "description": "Deploy resources via OpenTofu",
        "operationId": "validateScriptsFromGitRepo",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OpenTofuDeployFromGitRepoRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OpenTofuValidationResult"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "503": {
            "description": "Service Unavailable",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        }
      }
    },
    "/tofu-maker/git/plan": {
      "post": {
        "tags": [
          "OpenTofuFromGitRepo"
        ],
        "description": "Get OpenTofu Plan as JSON string from the list of script files provided",
        "operationId": "planFromGitRepo",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OpenTofuPlanFromGitRepoRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OpenTofuPlan"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "503": {
            "description": "Service Unavailable",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        }
      }
    },
    "/tofu-maker/git/modify": {
      "post": {
        "tags": [
          "OpenTofuFromGitRepo"
        ],
        "description": "Modify resources via OpenTofu",
        "operationId": "modifyFromGitRepo",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OpenTofuModifyFromGitRepoRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OpenTofuResult"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "503": {
            "description": "Service Unavailable",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        }
      }
    },
    "/tofu-maker/git/modify/async": {
      "post": {
        "tags": [
          "OpenTofuFromGitRepo"
        ],
        "description": "async modify resources via OpenTofu",
        "operationId": "asyncModifyFromGitRepo",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OpenTofuAsyncModifyFromGitRepoRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "202": {
            "description": "Accepted"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "503": {
            "description": "Service Unavailable",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        }
      }
    },
    "/tofu-maker/git/destroy": {
      "post": {
        "tags": [
          "OpenTofuFromGitRepo"
        ],
        "description": "Destroy resources via OpenTofu",
        "operationId": "destroyFromGitRepo",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OpenTofuDestroyFromGitRepoRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OpenTofuResult"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "503": {
            "description": "Service Unavailable",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        }
      }
    },
    "/tofu-maker/git/deploy": {
      "post": {
        "tags": [
          "OpenTofuFromGitRepo"
        ],
        "description": "Deploy resources via OpenTofu",
        "operationId": "deployFromGitRepo",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OpenTofuDeployFromGitRepoRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OpenTofuResult"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "503": {
            "description": "Service Unavailable",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        }
      }
    },
    "/tofu-maker/git/deploy/async": {
      "post": {
        "tags": [
          "OpenTofuFromGitRepo"
        ],
        "description": "async deploy resources via OpenTofu",
        "operationId": "asyncDeployFromGitRepo",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OpenTofuAsyncDeployFromGitRepoRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "202": {
            "description": "Accepted"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "503": {
            "description": "Service Unavailable",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        }
      }
    },
    "/tofu-maker/directory/plan/{module_directory}": {
      "post": {
        "tags": [
          "OpenTofuFromDirectory"
        ],
        "description": "Get OpenTofu Plan as JSON string from the given directory.",
        "operationId": "plan",
        "parameters": [
          {
            "name": "module_directory",
            "in": "path",
            "description": "directory name where the OpenTofu module files exist.",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OpenTofuPlanFromDirectoryRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OpenTofuPlan"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "503": {
            "description": "Service Unavailable",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        }
      }
    },
    "/tofu-maker/directory/modify/{module_directory}": {
      "post": {
        "tags": [
          "OpenTofuFromDirectory"
        ],
        "description": "Modify resources via OpenTofu from the given directory.",
        "operationId": "modifyFromDirectory",
        "parameters": [
          {
            "name": "module_directory",
            "in": "path",
            "description": "directory name where the OpenTofu module files exist.",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OpenTofuModifyFromDirectoryRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OpenTofuResult"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "503": {
            "description": "Service Unavailable",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        }
      }
    },
    "/tofu-maker/directory/modify/async/{module_directory}": {
      "post": {
        "tags": [
          "OpenTofuFromDirectory"
        ],
        "description": "async modify resources via OpenTofu from the given directory.",
        "operationId": "asyncModifyFromDirectory",
        "parameters": [
          {
            "name": "module_directory",
            "in": "path",
            "description": "directory name where the OpenTofu module files exist.",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OpenTofuAsyncModifyFromDirectoryRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "202": {
            "description": "Accepted"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "503": {
            "description": "Service Unavailable",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        }
      }
    },
    "/tofu-maker/directory/deploy/{module_directory}": {
      "post": {
        "tags": [
          "OpenTofuFromDirectory"
        ],
        "description": "Deploy resources via OpenTofu from the given directory.",
        "operationId": "deployFromDirectory",
        "parameters": [
          {
            "name": "module_directory",
            "in": "path",
            "description": "directory name where the OpenTofu module files exist.",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OpenTofuDeployFromDirectoryRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OpenTofuResult"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "503": {
            "description": "Service Unavailable",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        }
      }
    },
    "/tofu-maker/directory/deploy/async/{module_directory}": {
      "post": {
        "tags": [
          "OpenTofuFromDirectory"
        ],
        "description": "async deploy resources via OpenTofu from the given directory.",
        "operationId": "asyncDeployFromDirectory",
        "parameters": [
          {
            "name": "module_directory",
            "in": "path",
            "description": "directory name where the OpenTofu module files exist.",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OpenTofuAsyncDeployFromDirectoryRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "202": {
            "description": "Accepted"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "503": {
            "description": "Service Unavailable",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        }
      }
    },
    "/tofu-maker/task/result/{requestId}": {
      "get": {
        "tags": [
          "RetrieveOpenTofuResult"
        ],
        "description": "Method to retrieve stored openTofu result in case tofu-maker receives a failure while sending the openTofu result via callback.",
        "operationId": "getStoredTaskResultByRequestId",
        "parameters": [
          {
            "name": "requestId",
            "in": "path",
            "description": "id of the request",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReFetchResult"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "503": {
            "description": "Service Unavailable",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        }
      }
    },
    "/tofu-maker/health": {
      "get": {
        "tags": [
          "Admin"
        ],
        "description": "Check health of OpenTofu Maker API service",
        "operationId": "healthCheck",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OpenTofuMakerSystemStatus"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "503": {
            "description": "Service Unavailable",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        }
      }
    },
    "/tofu-maker/directory/validate/{module_directory}/{opentofu_version}": {
      "get": {
        "tags": [
          "OpenTofuFromDirectory"
        ],
        "description": "Validate the OpenTofu modules in the given directory.",
        "operationId": "validateFromDirectory",
        "parameters": [
          {
            "name": "module_directory",
            "in": "path",
            "description": "directory name where the OpenTofu module files exist.",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "opentofu_version",
            "in": "path",
            "description": "version of OpenTofu to execute the module files.",
            "required": true,
            "schema": {
              "type": "string",
              "pattern": "^(=|>=|<=)\\s*[vV]?\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OpenTofuValidationResult"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "503": {
            "description": "Service Unavailable",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        }
      }
    },
    "/tofu-maker/scripts/destroy/async": {
      "delete": {
        "tags": [
          "OpenTofuFromScripts"
        ],
        "description": "Async destroy the OpenTofu modules",
        "operationId": "asyncDestroyWithScripts",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OpenTofuAsyncDestroyFromScriptsRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "202": {
            "description": "Accepted"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "503": {
            "description": "Service Unavailable",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        }
      }
    },
    "/tofu-maker/git/destroy/async": {
      "delete": {
        "tags": [
          "OpenTofuFromGitRepo"
        ],
        "description": "Async destroy the OpenTofu modules",
        "operationId": "asyncDestroyFromGitRepo",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OpenTofuAsyncDestroyFromGitRepoRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "202": {
            "description": "Accepted"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "503": {
            "description": "Service Unavailable",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        }
      }
    },
    "/tofu-maker/directory/destroy/{module_directory}": {
      "delete": {
        "tags": [
          "OpenTofuFromDirectory"
        ],
        "description": "Destroy the resources from the given directory.",
        "operationId": "destroyFromDirectory",
        "parameters": [
          {
            "name": "module_directory",
            "in": "path",
            "description": "directory name where the OpenTofu module files exist.",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OpenTofuDestroyFromDirectoryRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OpenTofuResult"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "503": {
            "description": "Service Unavailable",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        }
      }
    },
    "/tofu-maker/directory/destroy/async/{module_directory}": {
      "delete": {
        "tags": [
          "OpenTofuFromDirectory"
        ],
        "description": "async destroy resources via OpenTofu from the given directory.",
        "operationId": "asyncDestroyFromDirectory",
        "parameters": [
          {
            "name": "module_directory",
            "in": "path",
            "description": "directory name where the OpenTofu module files exist.",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OpenTofuAsyncDestroyFromDirectoryRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "202": {
            "description": "Accepted"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          },
          "503": {
            "description": "Service Unavailable",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "Response": {
        "type": "object",
        "properties": {
          "resultType": {
            "type": "string",
            "description": "The result code of response.",
            "enum": [
              "Parameters Invalid",
              "Unprocessable Entity",
              "OpenTofu Execution Failed",
              "Unsupported Enum Value",
              "Service Unavailable",
              "Unauthorized",
              "Invalid Git Repo Details",
              "Invalid OpenTofu Tool",
              "Invalid OpenTofu Scripts",
              "Result Already Returned or RequestId Invalid"
            ]
          },
          "details": {
            "type": "array",
            "description": "Details of the errors occurred",
            "items": {
              "type": "string"
            }
          },
          "success": {
            "type": "boolean",
            "description": "Describes if the request is successful"
          }
        },
        "required": [
          "details",
          "resultType",
          "success"
        ]
      },
      "OpenTofuResult": {
        "type": "object",
        "properties": {
          "requestId": {
            "type": "string",
            "format": "uuid",
            "description": "Id of the request."
          },
          "commandStdOutput": {
            "type": "string",
            "description": "stdout of the command returned as string."
          },
          "commandStdError": {
            "type": "string",
            "description": "stderr of the command returned as string."
          },
          "terraformState": {
            "type": "string",
            "description": ".tfstate file contents returned as string."
          },
          "generatedFileContentMap": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Data of all other files generated by the openTofu execution.The map key contains the file name and value is the file contents as string."
          },
          "openTofuVersionUsed": {
            "type": "string",
            "description": "The version of the OpenTofu binary used to execute scripts."
          },
          "commandSuccessful": {
            "type": "boolean"
          }
        }
      },
      "ReFetchResult": {
        "type": "object",
        "properties": {
          "requestId": {
            "type": "string",
            "format": "uuid",
            "description": "Id of the request order."
          },
          "state": {
            "type": "string",
            "description": "State of the re-fetching result of order.",
            "enum": [
              "OK",
              "OrderInProgress",
              "ResultNotFound",
              "ResultParseFailed"
            ]
          },
          "openTofuResult": {
            "$ref": "#/components/schemas/OpenTofuResult",
            "description": "Result of the service order executed by open tofu."
          },
          "errorMessage": {
            "type": "string",
            "description": "Error message of the re-fetching result of order."
          }
        },
        "required": [
          "requestId",
          "state"
        ]
      },
      "OpenTofuDeployWithScriptsRequest": {
        "type": "object",
        "properties": {
          "requestId": {
            "type": "string",
            "format": "uuid",
            "description": "Id of the request."
          },
          "openTofuVersion": {
            "type": "string",
            "description": "The required version of the OpenTofu which will execute the scripts.",
            "pattern": "^(=|>=|<=)\\s*[vV]?\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$"
          },
          "isPlanOnly": {
            "type": "boolean",
            "description": "Flag to control if the deployment must only generate the OpenTofu or it must also apply the changes."
          },
          "variables": {
            "type": "object",
            "additionalProperties": {
              "type": "object"
            },
            "description": "Key-value pairs of variables that must be used to execute the OpenTofu request."
          },
          "envVariables": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Key-value pairs of variables that must be injected as environment variables to OpenTofu process."
          },
          "scriptFiles": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Map stores file name and content of all script files for deploy request."
          }
        },
        "required": [
          "isPlanOnly",
          "openTofuVersion",
          "scriptFiles",
          "variables"
        ]
      },
      "OpenTofuValidateDiagnostics": {
        "type": "object",
        "properties": {
          "detail": {
            "type": "string",
            "description": "Detail of validation error."
          }
        }
      },
      "OpenTofuValidationResult": {
        "type": "object",
        "properties": {
          "valid": {
            "type": "boolean",
            "description": "Defines if the scripts is valid."
          },
          "openTofuVersionUsed": {
            "type": "string",
            "description": "The version of the OpenTofu binary used to execute scripts."
          },
          "diagnostics": {
            "type": "array",
            "description": "List of validation errors.",
            "items": {
              "$ref": "#/components/schemas/OpenTofuValidateDiagnostics"
            }
          }
        },
        "required": [
          "valid"
        ]
      },
      "OpenTofuPlanWithScriptsRequest": {
        "type": "object",
        "properties": {
          "requestId": {
            "type": "string",
            "format": "uuid",
            "description": "Id of the request."
          },
          "openTofuVersion": {
            "type": "string",
            "description": "The required version of the OpenTofu which will execute the scripts.",
            "pattern": "^(=|>=|<=)\\s*[vV]?\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$"
          },
          "variables": {
            "type": "object",
            "additionalProperties": {
              "type": "object"
            },
            "description": "Key-value pairs of variables that must be used to execute the OpenTofu request."
          },
          "envVariables": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Key-value pairs of variables that must be injected as environment variables to open tofu process."
          },
          "scriptFiles": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Map stores file name and content of all script files for generating terraform plan."
          }
        },
        "required": [
          "openTofuVersion",
          "scriptFiles",
          "variables"
        ]
      },
      "OpenTofuPlan": {
        "type": "object",
        "properties": {
          "plan": {
            "type": "string",
            "description": "OpenTofu plan as a JSON string"
          },
          "openTofuVersionUsed": {
            "type": "string",
            "description": "The version of the OpenTofu binary used to execute scripts."
          }
        },
        "required": [
          "plan"
        ]
      },
      "OpenTofuModifyWithScriptsRequest": {
        "type": "object",
        "properties": {
          "requestId": {
            "type": "string",
            "format": "uuid",
            "description": "Id of the request."
          },
          "openTofuVersion": {
            "type": "string",
            "description": "The required version of the OpenTofu which will execute the scripts.",
            "pattern": "^(=|>=|<=)\\s*[vV]?\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$"
          },
          "isPlanOnly": {
            "type": "boolean",
            "description": "Flag to control if the deployment must only generate the OpenTofu or it must also apply the changes."
          },
          "variables": {
            "type": "object",
            "additionalProperties": {
              "type": "object"
            },
            "description": "Key-value pairs of variables that must be used to execute the OpenTofu request."
          },
          "envVariables": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Key-value pairs of variables that must be injected as environment variables to OpenTofu process."
          },
          "scriptFiles": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Map stores file name and content of all script files for modify request"
          },
          "tfState": {
            "type": "string",
            "description": "The .tfState file content after deployment"
          }
        },
        "required": [
          "isPlanOnly",
          "openTofuVersion",
          "scriptFiles",
          "tfState",
          "variables"
        ]
      },
      "OpenTofuAsyncModifyFromScriptsRequest": {
        "type": "object",
        "properties": {
          "requestId": {
            "type": "string",
            "format": "uuid",
            "description": "Id of the request."
          },
          "openTofuVersion": {
            "type": "string",
            "description": "The required version of the OpenTofu which will execute the scripts.",
            "pattern": "^(=|>=|<=)\\s*[vV]?\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$"
          },
          "isPlanOnly": {
            "type": "boolean",
            "description": "Flag to control if the deployment must only generate the OpenTofu or it must also apply the changes."
          },
          "variables": {
            "type": "object",
            "additionalProperties": {
              "type": "object"
            },
            "description": "Key-value pairs of variables that must be used to execute the OpenTofu request."
          },
          "envVariables": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Key-value pairs of variables that must be injected as environment variables to OpenTofu process."
          },
          "scriptFiles": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Map stores file name and content of all script files for modify request"
          },
          "tfState": {
            "type": "string",
            "description": "The .tfState file content after deployment"
          },
          "webhookConfig": {
            "$ref": "#/components/schemas/WebhookConfig",
            "description": "Configuration information of webhook."
          }
        },
        "required": [
          "isPlanOnly",
          "openTofuVersion",
          "scriptFiles",
          "tfState",
          "variables",
          "webhookConfig"
        ]
      },
      "WebhookConfig": {
        "type": "object",
        "properties": {
          "url": {
            "type": "string",
            "description": "Callback address after deployment/destroy is completed."
          },
          "authType": {
            "type": "string",
            "description": "The authentication type when calling back.",
            "enum": [
              "none",
              "oauth",
              "hmac"
            ]
          }
        },
        "required": [
          "authType",
          "url"
        ]
      },
      "OpenTofuDestroyWithScriptsRequest": {
        "type": "object",
        "properties": {
          "requestId": {
            "type": "string",
            "format": "uuid",
            "description": "Id of the request."
          },
          "openTofuVersion": {
            "type": "string",
            "description": "The required version of the OpenTofu which will execute the scripts.",
            "pattern": "^(=|>=|<=)\\s*[vV]?\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$"
          },
          "variables": {
            "type": "object",
            "additionalProperties": {
              "type": "object"
            },
            "description": "Key-value pairs of regular variables that must be used to execute the OpenTofu request."
          },
          "envVariables": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Key-value pairs of variables that must be injected as environment variables to OpenTofu process."
          },
          "scriptFiles": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Map stores file name and content of all script files for destroy request"
          },
          "tfState": {
            "type": "string",
            "description": "The .tfState file content after deployment"
          }
        },
        "required": [
          "openTofuVersion",
          "scriptFiles",
          "tfState",
          "variables"
        ]
      },
      "OpenTofuAsyncDeployFromScriptsRequest": {
        "type": "object",
        "properties": {
          "requestId": {
            "type": "string",
            "format": "uuid",
            "description": "Id of the request."
          },
          "openTofuVersion": {
            "type": "string",
            "description": "The required version of the OpenTofu which will execute the scripts.",
            "pattern": "^(=|>=|<=)\\s*[vV]?\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$"
          },
          "isPlanOnly": {
            "type": "boolean",
            "description": "Flag to control if the deployment must only generate the OpenTofu or it must also apply the changes."
          },
          "variables": {
            "type": "object",
            "additionalProperties": {
              "type": "object"
            },
            "description": "Key-value pairs of variables that must be used to execute the OpenTofu request."
          },
          "envVariables": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Key-value pairs of variables that must be injected as environment variables to OpenTofu process."
          },
          "scriptFiles": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Map stores file name and content of all script files for deploy request."
          },
          "webhookConfig": {
            "$ref": "#/components/schemas/WebhookConfig",
            "description": "Configuration information of webhook."
          }
        },
        "required": [
          "isPlanOnly",
          "openTofuVersion",
          "scriptFiles",
          "variables",
          "webhookConfig"
        ]
      },
      "OpenTofuDeployFromGitRepoRequest": {
        "type": "object",
        "properties": {
          "requestId": {
            "type": "string",
            "format": "uuid",
            "description": "Id of the request."
          },
          "openTofuVersion": {
            "type": "string",
            "description": "The required version of the OpenTofu which will execute the scripts.",
            "pattern": "^(=|>=|<=)\\s*[vV]?\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$"
          },
          "isPlanOnly": {
            "type": "boolean",
            "description": "Flag to control if the deployment must only generate the OpenTofu or it must also apply the changes."
          },
          "variables": {
            "type": "object",
            "additionalProperties": {
              "type": "object"
            },
            "description": "Key-value pairs of variables that must be used to execute the OpenTofu request."
          },
          "envVariables": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Key-value pairs of variables that must be injected as environment variables to OpenTofu process."
          },
          "gitRepoDetails": {
            "$ref": "#/components/schemas/OpenTofuScriptGitRepoDetails",
            "description": "GIT Repo details from where the scripts can be fetched."
          }
        },
        "required": [
          "gitRepoDetails",
          "isPlanOnly",
          "openTofuVersion",
          "variables"
        ]
      },
      "OpenTofuScriptGitRepoDetails": {
        "type": "object",
        "properties": {
          "repoUrl": {
            "type": "string",
            "description": "url of the GIT repo. This repo will be cloned."
          },
          "branch": {
            "type": "string",
            "description": "Branch to be checked-out after the repo is cloned."
          },
          "scriptPath": {
            "type": "string",
            "description": "Location of the scripts. If not provided, the scripts will be executed from root folder of the repo."
          }
        },
        "required": [
          "branch",
          "repoUrl"
        ]
      },
      "OpenTofuPlanFromGitRepoRequest": {
        "type": "object",
        "properties": {
          "requestId": {
            "type": "string",
            "format": "uuid",
            "description": "Id of the request."
          },
          "openTofuVersion": {
            "type": "string",
            "description": "The required version of the OpenTofu which will execute the scripts.",
            "pattern": "^(=|>=|<=)\\s*[vV]?\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$"
          },
          "variables": {
            "type": "object",
            "additionalProperties": {
              "type": "object"
            },
            "description": "Key-value pairs of variables that must be used to execute the OpenTofu request."
          },
          "envVariables": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Key-value pairs of variables that must be injected as environment variables to open tofu process."
          },
          "gitRepoDetails": {
            "$ref": "#/components/schemas/OpenTofuScriptGitRepoDetails",
            "description": "GIT Repo details from where the scripts can be fetched."
          }
        },
        "required": [
          "openTofuVersion",
          "variables"
        ]
      },
      "OpenTofuModifyFromGitRepoRequest": {
        "type": "object",
        "properties": {
          "requestId": {
            "type": "string",
            "format": "uuid",
            "description": "Id of the request."
          },
          "openTofuVersion": {
            "type": "string",
            "description": "The required version of the OpenTofu which will execute the scripts.",
            "pattern": "^(=|>=|<=)\\s*[vV]?\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$"
          },
          "isPlanOnly": {
            "type": "boolean",
            "description": "Flag to control if the deployment must only generate the OpenTofu or it must also apply the changes."
          },
          "variables": {
            "type": "object",
            "additionalProperties": {
              "type": "object"
            },
            "description": "Key-value pairs of variables that must be used to execute the OpenTofu request."
          },
          "envVariables": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Key-value pairs of variables that must be injected as environment variables to OpenTofu process."
          },
          "gitRepoDetails": {
            "$ref": "#/components/schemas/OpenTofuScriptGitRepoDetails",
            "description": "GIT Repo details from where the scripts can be fetched."
          },
          "tfState": {
            "type": "string",
            "description": "The .tfState file content after deployment"
          }
        },
        "required": [
          "isPlanOnly",
          "openTofuVersion",
          "tfState",
          "variables"
        ]
      },
      "OpenTofuAsyncModifyFromGitRepoRequest": {
        "type": "object",
        "properties": {
          "requestId": {
            "type": "string",
            "format": "uuid",
            "description": "Id of the request."
          },
          "openTofuVersion": {
            "type": "string",
            "description": "The required version of the OpenTofu which will execute the scripts.",
            "pattern": "^(=|>=|<=)\\s*[vV]?\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$"
          },
          "isPlanOnly": {
            "type": "boolean",
            "description": "Flag to control if the deployment must only generate the OpenTofu or it must also apply the changes."
          },
          "variables": {
            "type": "object",
            "additionalProperties": {
              "type": "object"
            },
            "description": "Key-value pairs of variables that must be used to execute the OpenTofu request."
          },
          "envVariables": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Key-value pairs of variables that must be injected as environment variables to OpenTofu process."
          },
          "gitRepoDetails": {
            "$ref": "#/components/schemas/OpenTofuScriptGitRepoDetails",
            "description": "GIT Repo details from where the scripts can be fetched."
          },
          "tfState": {
            "type": "string",
            "description": "The .tfState file content after deployment"
          },
          "webhookConfig": {
            "$ref": "#/components/schemas/WebhookConfig",
            "description": "Configuration information of webhook."
          }
        },
        "required": [
          "isPlanOnly",
          "openTofuVersion",
          "tfState",
          "variables",
          "webhookConfig"
        ]
      },
      "OpenTofuDestroyFromGitRepoRequest": {
        "type": "object",
        "properties": {
          "requestId": {
            "type": "string",
            "format": "uuid",
            "description": "Id of the request."
          },
          "openTofuVersion": {
            "type": "string",
            "description": "The required version of the OpenTofu which will execute the scripts.",
            "pattern": "^(=|>=|<=)\\s*[vV]?\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$"
          },
          "variables": {
            "type": "object",
            "additionalProperties": {
              "type": "object"
            },
            "description": "Key-value pairs of regular variables that must be used to execute the OpenTofu request."
          },
          "envVariables": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Key-value pairs of variables that must be injected as environment variables to OpenTofu process."
          },
          "gitRepoDetails": {
            "$ref": "#/components/schemas/OpenTofuScriptGitRepoDetails",
            "description": "GIT Repo details from where the scripts can be fetched."
          },
          "tfState": {
            "type": "string",
            "description": "The .tfState file content after deployment"
          }
        },
        "required": [
          "openTofuVersion",
          "tfState",
          "variables"
        ]
      },
      "OpenTofuAsyncDeployFromGitRepoRequest": {
        "type": "object",
        "properties": {
          "requestId": {
            "type": "string",
            "format": "uuid",
            "description": "Id of the request."
          },
          "openTofuVersion": {
            "type": "string",
            "description": "The required version of the OpenTofu which will execute the scripts.",
            "pattern": "^(=|>=|<=)\\s*[vV]?\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$"
          },
          "isPlanOnly": {
            "type": "boolean",
            "description": "Flag to control if the deployment must only generate the OpenTofu or it must also apply the changes."
          },
          "variables": {
            "type": "object",
            "additionalProperties": {
              "type": "object"
            },
            "description": "Key-value pairs of variables that must be used to execute the OpenTofu request."
          },
          "envVariables": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Key-value pairs of variables that must be injected as environment variables to OpenTofu process."
          },
          "gitRepoDetails": {
            "$ref": "#/components/schemas/OpenTofuScriptGitRepoDetails",
            "description": "GIT Repo details from where the scripts can be fetched."
          },
          "webhookConfig": {
            "$ref": "#/components/schemas/WebhookConfig",
            "description": "Configuration information of webhook."
          }
        },
        "required": [
          "gitRepoDetails",
          "isPlanOnly",
          "openTofuVersion",
          "variables",
          "webhookConfig"
        ]
      },
      "OpenTofuPlanFromDirectoryRequest": {
        "type": "object",
        "properties": {
          "requestId": {
            "type": "string",
            "format": "uuid",
            "description": "Id of the request."
          },
          "openTofuVersion": {
            "type": "string",
            "description": "The required version of the OpenTofu which will execute the scripts.",
            "pattern": "^(=|>=|<=)\\s*[vV]?\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$"
          },
          "variables": {
            "type": "object",
            "additionalProperties": {
              "type": "object"
            },
            "description": "Key-value pairs of variables that must be used to execute the OpenTofu request."
          },
          "envVariables": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Key-value pairs of variables that must be injected as environment variables to open tofu process."
          }
        },
        "required": [
          "openTofuVersion",
          "variables"
        ]
      },
      "OpenTofuModifyFromDirectoryRequest": {
        "type": "object",
        "properties": {
          "requestId": {
            "type": "string",
            "format": "uuid",
            "description": "Id of the request."
          },
          "openTofuVersion": {
            "type": "string",
            "description": "The required version of the OpenTofu which will execute the scripts.",
            "pattern": "^(=|>=|<=)\\s*[vV]?\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$"
          },
          "isPlanOnly": {
            "type": "boolean",
            "description": "Flag to control if the deployment must only generate the OpenTofu or it must also apply the changes."
          },
          "variables": {
            "type": "object",
            "additionalProperties": {
              "type": "object"
            },
            "description": "Key-value pairs of variables that must be used to execute the OpenTofu request."
          },
          "envVariables": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Key-value pairs of variables that must be injected as environment variables to OpenTofu process."
          }
        },
        "required": [
          "isPlanOnly",
          "openTofuVersion",
          "variables"
        ]
      },
      "OpenTofuAsyncModifyFromDirectoryRequest": {
        "type": "object",
        "properties": {
          "requestId": {
            "type": "string",
            "format": "uuid",
            "description": "Id of the request."
          },
          "openTofuVersion": {
            "type": "string",
            "description": "The required version of the OpenTofu which will execute the scripts.",
            "pattern": "^(=|>=|<=)\\s*[vV]?\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$"
          },
          "isPlanOnly": {
            "type": "boolean",
            "description": "Flag to control if the deployment must only generate the OpenTofu or it must also apply the changes."
          },
          "variables": {
            "type": "object",
            "additionalProperties": {
              "type": "object"
            },
            "description": "Key-value pairs of variables that must be used to execute the OpenTofu request."
          },
          "envVariables": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Key-value pairs of variables that must be injected as environment variables to OpenTofu process."
          },
          "webhookConfig": {
            "$ref": "#/components/schemas/WebhookConfig",
            "description": "Configuration information of webhook."
          }
        },
        "required": [
          "isPlanOnly",
          "openTofuVersion",
          "variables",
          "webhookConfig"
        ]
      },
      "OpenTofuDeployFromDirectoryRequest": {
        "type": "object",
        "properties": {
          "requestId": {
            "type": "string",
            "format": "uuid",
            "description": "Id of the request."
          },
          "openTofuVersion": {
            "type": "string",
            "description": "The required version of the OpenTofu which will execute the scripts.",
            "pattern": "^(=|>=|<=)\\s*[vV]?\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$"
          },
          "isPlanOnly": {
            "type": "boolean",
            "description": "Flag to control if the deployment must only generate the OpenTofu or it must also apply the changes."
          },
          "variables": {
            "type": "object",
            "additionalProperties": {
              "type": "object"
            },
            "description": "Key-value pairs of variables that must be used to execute the OpenTofu request."
          },
          "envVariables": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Key-value pairs of variables that must be injected as environment variables to OpenTofu process."
          }
        },
        "required": [
          "isPlanOnly",
          "openTofuVersion",
          "variables"
        ]
      },
      "OpenTofuAsyncDeployFromDirectoryRequest": {
        "type": "object",
        "properties": {
          "requestId": {
            "type": "string",
            "format": "uuid",
            "description": "Id of the request."
          },
          "openTofuVersion": {
            "type": "string",
            "description": "The required version of the OpenTofu which will execute the scripts.",
            "pattern": "^(=|>=|<=)\\s*[vV]?\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$"
          },
          "isPlanOnly": {
            "type": "boolean",
            "description": "Flag to control if the deployment must only generate the OpenTofu or it must also apply the changes."
          },
          "variables": {
            "type": "object",
            "additionalProperties": {
              "type": "object"
            },
            "description": "Key-value pairs of variables that must be used to execute the OpenTofu request."
          },
          "envVariables": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Key-value pairs of variables that must be injected as environment variables to OpenTofu process."
          },
          "webhookConfig": {
            "$ref": "#/components/schemas/WebhookConfig",
            "description": "Configuration information of webhook."
          }
        },
        "required": [
          "isPlanOnly",
          "openTofuVersion",
          "variables",
          "webhookConfig"
        ]
      },
      "OpenTofuMakerSystemStatus": {
        "type": "object",
        "properties": {
          "healthStatus": {
            "type": "string",
            "description": "The health status of api service.",
            "enum": [
              "OK",
              "NOK"
            ]
          }
        },
        "required": [
          "healthStatus"
        ]
      },
      "OpenTofuAsyncDestroyFromScriptsRequest": {
        "type": "object",
        "properties": {
          "requestId": {
            "type": "string",
            "format": "uuid",
            "description": "Id of the request."
          },
          "openTofuVersion": {
            "type": "string",
            "description": "The required version of the OpenTofu which will execute the scripts.",
            "pattern": "^(=|>=|<=)\\s*[vV]?\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$"
          },
          "variables": {
            "type": "object",
            "additionalProperties": {
              "type": "object"
            },
            "description": "Key-value pairs of regular variables that must be used to execute the OpenTofu request."
          },
          "envVariables": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Key-value pairs of variables that must be injected as environment variables to OpenTofu process."
          },
          "scriptFiles": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Map stores file name and content of all script files for destroy request"
          },
          "tfState": {
            "type": "string",
            "description": "The .tfState file content after deployment"
          },
          "webhookConfig": {
            "$ref": "#/components/schemas/WebhookConfig",
            "description": "Configuration information of webhook."
          }
        },
        "required": [
          "openTofuVersion",
          "scriptFiles",
          "tfState",
          "variables",
          "webhookConfig"
        ]
      },
      "OpenTofuAsyncDestroyFromGitRepoRequest": {
        "type": "object",
        "properties": {
          "requestId": {
            "type": "string",
            "format": "uuid",
            "description": "Id of the request."
          },
          "openTofuVersion": {
            "type": "string",
            "description": "The required version of the OpenTofu which will execute the scripts.",
            "pattern": "^(=|>=|<=)\\s*[vV]?\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$"
          },
          "variables": {
            "type": "object",
            "additionalProperties": {
              "type": "object"
            },
            "description": "Key-value pairs of regular variables that must be used to execute the OpenTofu request."
          },
          "envVariables": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Key-value pairs of variables that must be injected as environment variables to OpenTofu process."
          },
          "gitRepoDetails": {
            "$ref": "#/components/schemas/OpenTofuScriptGitRepoDetails",
            "description": "GIT Repo details from where the scripts can be fetched."
          },
          "tfState": {
            "type": "string",
            "description": "The .tfState file content after deployment"
          },
          "webhookConfig": {
            "$ref": "#/components/schemas/WebhookConfig",
            "description": "Configuration information of webhook."
          }
        },
        "required": [
          "openTofuVersion",
          "tfState",
          "variables",
          "webhookConfig"
        ]
      },
      "OpenTofuDestroyFromDirectoryRequest": {
        "type": "object",
        "properties": {
          "requestId": {
            "type": "string",
            "format": "uuid",
            "description": "Id of the request."
          },
          "openTofuVersion": {
            "type": "string",
            "description": "The required version of the OpenTofu which will execute the scripts.",
            "pattern": "^(=|>=|<=)\\s*[vV]?\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$"
          },
          "variables": {
            "type": "object",
            "additionalProperties": {
              "type": "object"
            },
            "description": "Key-value pairs of regular variables that must be used to execute the OpenTofu request."
          },
          "envVariables": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Key-value pairs of variables that must be injected as environment variables to OpenTofu process."
          }
        },
        "required": [
          "openTofuVersion",
          "variables"
        ]
      },
      "OpenTofuAsyncDestroyFromDirectoryRequest": {
        "type": "object",
        "properties": {
          "requestId": {
            "type": "string",
            "format": "uuid",
            "description": "Id of the request."
          },
          "openTofuVersion": {
            "type": "string",
            "description": "The required version of the OpenTofu which will execute the scripts.",
            "pattern": "^(=|>=|<=)\\s*[vV]?\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$"
          },
          "variables": {
            "type": "object",
            "additionalProperties": {
              "type": "object"
            },
            "description": "Key-value pairs of regular variables that must be used to execute the OpenTofu request."
          },
          "envVariables": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Key-value pairs of variables that must be injected as environment variables to OpenTofu process."
          },
          "webhookConfig": {
            "$ref": "#/components/schemas/WebhookConfig",
            "description": "Configuration information of webhook."
          }
        },
        "required": [
          "openTofuVersion",
          "variables",
          "webhookConfig"
        ]
      }
    },
    "securitySchemes": {
      "OAuth2Flow": {
        "type": "oauth2",
        "flows": {
          "authorizationCode": {
            "authorizationUrl": "http://localhost:8088/oauth/v2/authorize",
            "tokenUrl": "http://localhost:8088/oauth/v2/token",
            "scopes": {
              "openid": "mandatory must be selected."
            }
          }
        }
      }
    }
  }
}